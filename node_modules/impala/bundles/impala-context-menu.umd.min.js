/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("rxjs/add/operator/first"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/cdk/overlay","@angular/cdk/portal","rxjs/add/operator/first","@angular/common"],e):e((t.ng=t.ng||{},t.ng.impala=t.ng.impala||{},t.ng.impala["context-menu"]=t.ng.impala["context-menu"]||{}),t.ng.core,t.ng.cdk.overlay,t.ng.cdk.portal,t.Rx.Observable.prototype,t.ng.common)}(this,function(t,e,n,o,i,r){"use strict";var a=function(){function t(){this.items=[]}return t}(),c=function(){function t(t){this.config=t,this.menuActionClick=new e.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.onContextMenuAction=function(t){t&&t.click&&(t.click.call(this.config.context),this.menuActionClick.emit())},t.decorators=[{type:e.Component,args:[{selector:"app-context-menu",template:'<ul class="dropdown-menu"><ng-container *ngFor="let item of config.items"><li *ngIf="!item.divider" [ngClass]="{disabled: item.disabled}"><a (click)="onContextMenuAction(item)">{{item.text}}</a></li><li *ngIf="item.divider" role="separator" class="divider"></li></ng-container></ul>',styles:[".dropdown-menu{position:unset!important;display:unset!important}a{cursor:pointer}"]}]}],t.ctorParameters=function(){return[{type:a}]},t.propDecorators={menuActionClick:[{type:e.Output}]},t}(),s=function(){function t(t,e,o){var i=this;this.overlay=t,this.parentInjector=e,this.overlayContainer=o;var r=new n.OverlayConfig;r.hasBackdrop=!0,r.positionStrategy=t.position().global().left("9999px").top("9999px"),r.backdropClass="cdk-overlay-transparent-backdrop",this.overlayRef=t.create(r),this.overlayRef.backdropClick().subscribe(function(){return i.detach()})}return t.prototype.attach=function(t){var e=this;this.overlayRef.hasAttached()&&this.detach();var n=this.createInjector(t),i=new o.ComponentPortal(c,null,n);this.overlayRef.attach(i).instance.menuActionClick.first().subscribe(function(){return e.detach()}),setTimeout(function(){var n=e.overlayRef.overlayElement,o=n.offsetWidth,i=n.offsetHeight,r=e.overlayContainer.getContainerElement(),a=r.offsetWidth,c=r.offsetHeight,s=t.left,u=t.top;s=s+o>a?a-o:s,u=u+i>c?c-i:u,e.overlayRef.getConfig().positionStrategy.left(s+"px").top(u+"px"),e.overlayRef.updatePosition()},0)},t.prototype.detach=function(){this.overlayRef.getConfig().positionStrategy.left("9999px").top("9999px"),this.overlayRef.updatePosition(),this.overlayRef.detach()},t.prototype.createInjector=function(t){var e=new WeakMap;return e.set(a,t),new o.PortalInjector(this.parentInjector,e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:n.Overlay},{type:e.Injector},{type:n.OverlayContainer}]},t}(),u=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[c],imports:[r.CommonModule],exports:[],providers:[s],entryComponents:[c]}]}],t.ctorParameters=function(){return[]},t}(),p=function(){function t(t,e,n,o){this.text=t,this.click=e,this.disabled=n,this.icon=o,this.divider=!1}return t}(),f=function(){function t(){this.divider=!0}return t}(),l=new f,h=function(){function t(){this.config=new a}return t.prototype.left=function(t){return this.config.left=t,this},t.prototype.top=function(t){return this.config.top=t,this},t.prototype.addAction=function(t,e,n){return this.config.items.push(new p(t,e,n)),this},t.prototype.addDivider=function(){do{if(0===this.config.items.length)break;if(l===this.config.items[this.config.items.length-1])break;this.config.items.push(l)}while(!1);return this},t.prototype.addItems=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(n=this.config.items).push.apply(n,t),this;var n},t.prototype.context=function(t){return this.config.context=t,this},t.prototype.build=function(){if(0===this.config.items.length)throw new Error("empty context menu");if(l===this.config.items[this.config.items.length-1]&&this.config.items.pop(),0===this.config.items.length)throw new Error("empty context menu");return this.config.context||console.warn("no context for ContextMenu"),this.config},t}();t.ContextMenuModule=u,t.ContextMenuAction=p,t.ContextMenuDivider=f,t.CONTEXT_MENU_DIVIDER=l,t.ContextMenuConfigBuilder=h,t.ContextMenuService=s,t.ContextMenuConfig=a,t.Éµa=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=/Users/nathaniel/Developer/github/impala/dist/bundles/impala-context-menu.umd.min.js.map